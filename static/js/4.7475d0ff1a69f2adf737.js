webpackJsonp([4],{BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},DnQC:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},HXGL:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},PTCF:function(t,e,s){"use strict";function r(t){s("TQ4O")}function a(t){s("iaDy")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("/3PM"),d={props:{orderItemVoList:{type:Array,required:!1}},data:function(){return{}},created:function(){},methods:{},components:{}},n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"product-table"},[t._m(0),t._v(" "),t._l(t.orderItemVoList,function(e){return s("tr",{key:e.productId},[s("td",{staticClass:"cell-img"},[s("a",{attrs:{href:"detail.html",target:"_blank"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"order.productImage"}],staticClass:"p-img",attrs:{alt:e.productName}})])]),t._v(" "),s("td",{staticClass:"cell-info"},[s("a",{staticClass:"link",on:{click:function(s){t.loadPage("goods-detail",{productId:e.productId})}}},[t._v(t._s(e.productName))])]),t._v(" "),s("td",{staticClass:"cell-price"},[t._v(t._s(t._f("formatMoney")(e.currentUnitPrice)))])])})],2)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{staticClass:"cell-img"},[t._v(" ")]),t._v(" "),s("th",{staticClass:"cell-info"},[t._v("课程描述")]),t._v(" "),s("th",{staticClass:"cell-price"},[t._v("价格")])])}],o={render:n,staticRenderFns:c},l=o,u=s("VU/8"),v=r,p=u(d,l,!1,v,null,null),f=p.exports,_=s("BO1k"),m=s.n(_),h={props:{addressList:{type:Array,required:!1},selectAddress:{type:Function,required:!0}},data:function(){return{currentAddressIndex:-1}},created:function(){this.setCurrentAddressIndex()},activated:function(){this.setCurrentAddressIndex()},methods:{setDetailAddress:function(t){var e=!0,s=!1,r=void 0;try{for(var a,i=m()(this.addressList);!(e=(a=i.next()).done);e=!0){var d=a.value;d.id===t?d.defaultAddress=1:d.defaultAddress=0}}catch(t){s=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(s)throw r}}},setCurrentAddressIndex:function(){for(var t=0;t<this.addressList.length;t++)this.addressList[t].defaultAddress&&(this.currentAddressIndex=t);-1===this.currentAddressIndex&&(this.currentAddressIndex=0)}},components:{},watch:{currentAddressIndex:{handler:function(t,e){this.addressList[t]&&this.selectAddress(this.addressList[t].id)}}}},C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.addressList,function(e,r){return s("div",{key:e.id,class:{"address-item":!0,active:r===t.currentAddressIndex},attrs:{"data-id":"address.id"},on:{click:function(e){t.currentAddressIndex=r}}},[s("div",{staticClass:"address-title"},[t._v("\n      "+t._s(e.provinceName)+" "+t._s(e.cityName)+" ("+t._s(e.receiverName)+" 收)\n\n    ")]),t._v(" "),s("div",{staticClass:"address-detail"},[t._v("\n      "+t._s(e.receiverAddress)+" "+t._s(e.receiverPhoneNo)+"\n    ")]),t._v(" "),s("div",{staticClass:"address-opera"},[0===e.defaultAddress?s("span",{staticClass:"link address-default",on:{click:function(s){t.setDetailAddress(e.id)}}},[t._v("设置默认")]):t._e(),t._v(" "),1===e.defaultAddress?s("span",{staticClass:"link address-default",on:{click:function(s){t.setDetailAddress(e.id)}}},[t._v("默认地址")]):t._e(),t._v(" "),s("span",{staticClass:"link address-update",attrs:{onclick:"alert('本功能暂未开放')"}},[t._v("编辑")]),t._v(" "),s("span",{staticClass:"link address-delete",attrs:{onclick:"alert('本功能暂未开放')"}},[t._v("删除")])])])}),t._v(" "),t._m(0)],2)},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address-add",attrs:{onclick:"alert('本功能暂未开放')"}},[s("div",{staticClass:"address-new"},[s("i",{staticClass:"fa fa-plus"}),t._v(" "),s("div",{staticClass:"text"},[t._v("使用新地址")])])])}],g={render:C,staticRenderFns:x},I=g,y=s("VU/8"),A=a,L=y(h,I,!1,A,null,null),k=L.exports,P={data:function(){return{addressList:[],orderItemVoList:[],productTotalPrice:0,addressId:""}},created:function(){this.queryAddressList(),this.queryOrderItemVoList()},methods:{selectAddress:function(t){console.info(t),this.addressId=t},queryAddressList:function(){var t=this;this.ajax({url:"/omc/shipping/queryUserShippingListWithPage",data:{pageNum:1,pageSize:50},success:function(e){200===e.code&&(t.addressList=e.result.list)}})},queryOrderItemVoList:function(){var t=this;this.ajax({url:"/omc/order/getOrderCartProduct",success:function(e){e&&200===e.code?(t.productTotalPrice=e.result.productTotalPrice,t.orderItemVoList=e.result.orderItemVoList):t.loadPage("user-order")}})},createOrderDoc:function(){var t=this;this.addressId=0,this.ajax({url:"/omc/order/createOrderDoc/"+this.addressId,success:function(e){var s=e.result;200===e.code&&s.orderNo?(t.$store.dispatch("clear_cart"),console.info("提交订单 order=",s.orderNo),t.loadPage("order-payment",{orderNo:s.orderNo})):(alert("支付失败"),t.loadPage("user-order"))}})}},components:{pcNavSide:i.a,pcProductList:f,pcAddressList:k}},N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"crumb"},[s("div",{staticClass:"w"},[s("div",{staticClass:"crumb-con"},[s("a",{staticClass:"link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.goHome(e)}}},[t._v("老师好在线")]),t._v(" "),s("span",[t._v(">")]),t._v(" "),s("span",{staticClass:"link-text"},[t._v(t._s(t.$route.meta.name))])])])]),t._v(" "),s("div",{staticClass:"confirm-wrap w"},[s("div",{staticClass:"panel panel-color panel-padding"},[s("h1",{staticClass:"panel-title panel-padding"},[t._v("商品清单")]),t._v(" "),s("div",{staticClass:"panel-body product-con panel-padding"},[s("pc-product-list",{attrs:{orderItemVoList:t.orderItemVoList}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.orderItemVoList.length>0,expression:"orderItemVoList.length > 0"}],staticClass:"submit-con"},[s("span",[t._v("订单总价:")]),t._v(" "),s("span",{staticClass:"submit-total"},[t._v(t._s(t._f("formatMoney")(t.productTotalPrice)))]),t._v(" "),s("span",{staticClass:"btn order-submit",on:{click:t.createOrderDoc}},[t._v("提交订单")])])])]),t._v(" "),s("div",{staticClass:"modal-wrap"})])},V=[],b={render:N,staticRenderFns:V},w=b,D=s("VU/8"),O=D(P,w,!1,null,null,null);e.default=O.exports},TQ4O:function(t,e,s){var r=s("DnQC");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s("rjj0")("27d7956c",r,!0,{})},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var r=s("77Pl"),a=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},iaDy:function(t,e,s){var r=s("HXGL");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s("rjj0")("8e31adc2",r,!0,{})}});
//# sourceMappingURL=4.7475d0ff1a69f2adf737.js.map