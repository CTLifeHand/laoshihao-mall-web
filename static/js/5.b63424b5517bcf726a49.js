webpackJsonp([5],{"7h8G":function(t,e,s){var o=s("a8iq");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("0978a23d",o,!0,{})},BPOT:function(t,e,s){"use strict";function o(t){s("7h8G")}function i(t){s("bOSc")}Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{queryInfo:{categoryId:"",keyword:"",pageNum:"1",pageSize:"10",orderBy:"name asc"},productList:[{id:"",name:"",subtitle:"",mainImage:"",price:0,status:"",imageHost:""}]}},created:function(){var t=this;this.$pcBus.$on("productSort",function(e){console.info("$on('productSort'"),t.queryInfo.orderBy=e,t.queryProductList()}),this.$pcBus.$on("searchProduct",function(){console.info("$on searchProduct"),t.queryProductList()})},activated:function(){this.queryProductList()},methods:{goProductDetailPage:function(t){this.loadPage("goods-detail",{productId:t})},queryProductList:function(){var t=this;this.queryInfo.categoryId=this.getUrlParam("categoryId"),this.queryInfo.keyword=this.getUrlParam("keyword"),this.queryInfo.organId=this.getUrlParam("organId"),this.queryInfo.spec=this.getUrlParam("spec"),this.ajax({url:"/uac/auth/product/queryProductList",data:this.queryInfo,success:function(e){200===e.code&&(e.result?t.productList=e.result.list?e.result.list:[]:t.productList=[])}})}}},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.productList,function(e){return s("li",{directives:[{name:"show",rawName:"v-show",value:""!==e.id,expression:"product.id !== ''"}],key:e.id,staticClass:"p-item"},[s("div",{staticClass:"p-img-con"},[s("a",{staticClass:"link",on:{click:function(s){t.goProductDetailPage(e.id)}}},[s("img",{staticClass:"p-img",attrs:{src:e.mainImage,alt:"name"}})])]),t._v(" "),s("div",{staticClass:"p-price-con"},[s("span",{staticClass:"p-price"},[t._v("￥"+t._s(e.price))])]),t._v(" "),s("div",{staticClass:"p-name-con"},[s("a",{staticClass:"p-name",on:{click:function(s){t.goProductDetailPage(e.id)}}},[t._v(t._s(e.name))])])])}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:null===t.productList||t.productList.length<1,expression:"productList === null || productList.length < 1"}],staticClass:"err-tip"},[t._v("很抱歉，实在找不到您要的商品。")])],2)},r=[],l={render:a,staticRenderFns:r},c=l,d=s("VU/8"),u=o,p=d(n,c,!1,u,null,null),h=p.exports,A={data:function(){return{sortActive:!0,isAsc:!1,isDesc:!1,orderBy:"name asc",selectorsData:{organs:[],categorys:[],specs:[]},queryInfo:{categoryId:"",keyword:"",pageNum:"1",pageSize:"10",organId:"",spec:"",type:null},pcGoodsListKey:1}},created:function(){console.error("goods-list---created")},beforeRouteEnter:function(t,e,s){s(),window.scrollTo(0,0),console.error("goods-list---beforeRouteEnter")},beforeRouteUpdate:function(t,e,s){var o=this;s(),this.querySelectorsData(function(t){200===t.code?(o.selectorsData=t.result,console.log(t.result),o.$pcBus.$emit("searchProduct")):alert("加载主页面失败")}),console.error("goods-list---beforeRouteUpdate")},activated:function(){var t=this;this.querySelectorsData(function(e){200===e.code?(t.selectorsData=e.result,console.log(e.result)):alert("加载主页面失败")})},methods:{reloadCanceltype:function(){this.queryInfo.type=null,this.loadPage("goods-list",this.queryInfo)},reloadtype:function(t){if(t===this.queryInfo.type)return void this.reloadCanceltype();this.queryInfo.type=t,this.queryInfo.categoryId=this.getUrlParam("categoryId"),this.queryInfo.keyword=this.getUrlParam("keyword"),this.loadPage("goods-list",this.queryInfo)},reloadCancelSpecsData:function(t,e){console.log(e),this.queryInfo.keyword=this.getUrlParam("keyword"),this.queryInfo.spec=null,this.loadPage("goods-list",this.queryInfo)},reloadSpecsData:function(t,e){if(t.id+"_"+e.id===this.queryInfo.spec)return void this.reloadCancelSpecsData(t,e);console.log(e),this.queryInfo.spec=t.id+"_"+e.id,this.queryInfo.keyword=this.getUrlParam("keyword"),this.loadPage("goods-list",this.queryInfo)},reloadCancelCategoryData:function(t){console.log(t),this.queryInfo.categoryId=null,this.queryInfo.keyword=this.getUrlParam("keyword"),this.loadPage("goods-list",this.queryInfo)},reloadCategoryData:function(t){if(t.id===this.queryInfo.categoryId)return void this.reloadCancelCategoryData(t);console.log(t),this.queryInfo.categoryId=t.id,this.queryInfo.keyword=this.getUrlParam("keyword"),console.log(t.id),this.loadPage("goods-list",this.queryInfo)},reloadCancelOrganData:function(t){console.log(t),this.queryInfo.categoryId=this.getUrlParam("categoryId"),this.queryInfo.keyword=this.getUrlParam("keyword"),this.queryInfo.organId=null,console.log("reloadCancelOrganData id"),this.loadPage("goods-list",this.queryInfo)},reloadOrganData:function(t){if(console.log(t),t.id===this.queryInfo.organId)return void this.reloadCancelOrganData(t);this.queryInfo.categoryId=this.getUrlParam("categoryId"),this.queryInfo.keyword=this.getUrlParam("keyword"),this.queryInfo.organId=t.id,console.log("reloadOrganData id"),console.log(t.id),this.loadPage("goods-list",this.queryInfo)},querySelectorsData:function(t){this.queryInfo.categoryId=this.getUrlParam("categoryId"),this.queryInfo.keyword=this.getUrlParam("keyword"),this.queryInfo.organId=this.getUrlParam("organId"),this.queryInfo.spec=this.getUrlParam("spec"),console.log("querySelectorsData id"),console.log(this.queryInfo.organId),this.ajax({type:"POST",url:"/uac/auth/product/getSelectors",data:this.queryInfo,success:t})},changeSort:function(t){"price"===t?(this.sortActive=!1,this.isAsc||this.isDesc?this.isAsc?(this.isAsc=!1,this.isDesc=!0,this.orderBy="price desc"):(this.isAsc=!0,this.isDesc=!1,this.orderBy="price asc"):(this.isAsc=!0,this.orderBy="price asc")):(this.sortActive=!this.sortActive,this.orderBy="name asc"),this.$pcBus.$emit("productSort",this.orderBy)}},components:{pcGoodsList:h}},f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"crumb"},[s("div",{staticClass:"w"},[s("div",{staticClass:"crumb-con"},[s("a",{staticClass:"link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.goHome(e)}}},[t._v("老师好在线")]),t._v(" "),s("span",[t._v(">")]),t._v(" "),s("span",{staticClass:"link-text"},[t._v(t._s(t.$route.meta.name))])])])]),t._v(" "),t.selectorsData?s("div",{staticClass:"list-wrap w"},[s("div",{staticClass:"selector",attrs:{id:"J_selector"}},[s("div",{staticClass:"J_selectorLine s-line J_selectorFold"},[s("div",{staticClass:"sl-wrap"},[t._m(0),t._v(" "),s("div",{staticClass:"sl-value"},[s("div",{staticClass:"sl-v-list"},[s("ul",{staticClass:"J_valueList"},[s("li",[s("a",{class:{seleted:0===t.queryInfo.type},on:{click:function(e){t.reloadtype(0)}}},[s("i"),t._v("\n                    同步课\n                  ")])]),t._v(" "),s("li",[s("a",{class:{seleted:1===t.queryInfo.type},on:{click:function(e){t.reloadtype(1)}}},[s("i"),t._v("\n                    定向提升\n                  ")])]),t._v(" "),s("li",[s("a",{class:{seleted:2===t.queryInfo.type},on:{click:function(e){t.reloadtype(2)}}},[s("i"),t._v("\n                    一卡通\n                  ")])]),t._v(" "),s("li",[s("a",{class:{seleted:3===t.queryInfo.type},on:{click:function(e){t.reloadtype(3)}}},[s("i"),t._v("\n                    精华优课\n                  ")])])])])])])]),t._v(" "),t.selectorsData.organs?s("div",{staticClass:"J_selectorLine s-line J_selectorFold"},[s("div",{staticClass:"sl-wrap"},[t._m(1),t._v(" "),s("div",{staticClass:"sl-value"},[s("div",{staticClass:"sl-v-list"},[s("ul",{staticClass:"J_valueList"},t._l(t.selectorsData.organs,function(e){return s("li",{key:e.id},[s("a",{class:{seleted:e.id===t.queryInfo.organId},on:{click:function(s){t.reloadOrganData(e)}}},[s("i"),t._v("\n                    "+t._s(e.name)+"\n                  ")])])}))])])])]):t._e(),t._v(" "),t._l(t.selectorsData.categorys,function(e){return s("div",{key:e.id,staticClass:"J_selectorLine s-line J_selectorFold"},[s("div",{staticClass:"sl-wrap"},[s("div",{staticClass:"sl-key"},[s("span",[t._v(t._s(e.name)+"：")])]),t._v(" "),s("div",{staticClass:"sl-value"},[s("div",{staticClass:"sl-v-list"},[s("ul",{staticClass:"J_valueList"},t._l(e.list,function(e){return s("li",{key:e.id},[s("a",{class:{seleted:e.id===t.queryInfo.categoryId},on:{click:function(s){t.reloadCategoryData(e)}}},[s("i"),t._v("\n                    "+t._s(e.name)+"\n                  ")])])}))])])])])}),t._v(" "),t._l(t.selectorsData.specs,function(e){return s("div",{key:e.id,staticClass:"J_selectorLine s-line J_selectorFold"},[s("div",{staticClass:"sl-wrap"},[s("div",{staticClass:"sl-key"},[s("span",[t._v(t._s(e.name)+"：")])]),t._v(" "),s("div",{staticClass:"sl-value"},[s("div",{staticClass:"sl-v-list"},[s("ul",{staticClass:"J_valueList"},t._l(e.values,function(o){return s("li",{key:o.id},[s("a",{class:{seleted:e.id+"_"+o.id===t.queryInfo.spec},on:{click:function(s){t.reloadSpecsData(e,o)}}},[s("i"),t._v("\n                    "+t._s(o.name)+"\n                  ")])])}))])])])])})],2)]):t._e(),t._v(" "),s("div",{staticClass:"list-wrap w"},[s("ul",{staticClass:"sort-con"},[s("li",{class:{"sort-item":!0,active:t.sortActive},attrs:{"data-type":"default"},on:{click:function(e){t.changeSort("default")}}},[t._v("默认排序")]),t._v(" "),s("li",{class:{"sort-item":!0,active:!t.sortActive,asc:t.isAsc,desc:t.isDesc},attrs:{"data-type":"price"},on:{click:function(e){t.changeSort("price")}}},[s("span",[t._v("价格")]),t._v(" "),s("i",{staticClass:"fa fa-sort-asc"}),t._v(" "),s("i",{staticClass:"fa fa-sort-desc"})])]),t._v(" "),s("ul",{staticClass:"p-list-con"},[s("pc-goods-list",{key:t.pcGoodsListKey})],1),t._v(" "),s("div",{staticClass:"pagination"})])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sl-key"},[s("span",[t._v("类型：")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sl-key"},[s("span",[t._v("机构：")])])}],v={render:f,staticRenderFns:g},y=v,C=s("VU/8"),m=i,_=C(A,y,!1,m,null,null);e.default=_.exports},"Lp+n":function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"\n.selector .s-title {\n  border-bottom: 1px solid #ddd;\n  background: #f1f1f1;\n  line-height: 34px;\n  height: 65px;\n  overflow: hidden;\n  zoom: 1;\n}\n.selector .s-title h3 b {\n  color: #e4393c;\n  margin-right: 5px;\n}\n.selector .sl-wrap {\n  position: relative;\n  _zoom: 1;\n  line-height: 34px;\n  border-bottom: 1px dashed #eee;\n}\n.selector .sl-key {\n  float: left;\n  width: 100px;\n  padding-left: 10px;\n  color: #999;\n}\n.selector .sl-value {\n  margin-left: 110px;\n  padding-right: 130px;\n  padding-left: 10px;\n  overflow: hidden;\n  zoom: 1;\n}\n.selector .sl-v-list {\n  overflow: hidden;\n  zoom: 1;\n  padding-top: 4px;\n}\n.selector .sl-v-list ul {\n  float: left;\n  overflow: hidden;\n  zoom: 1;\n  position: relative;\n  height: 30px;\n}\n.selector .sl-v-list li {\n  margin-right: 50px;\n}\n.selector .sl-v-list li {\n  float: left;\n  _display: inline;\n  margin-right: 16px;\n  margin-bottom: 4px;\n  height: 26px;\n  line-height: 26px;\n}\n.selector .sl-v-list li a {\n  float: left;\n  white-space: nowrap;\n  zoom: 1;\n  cursor: pointer;\n}\n.selector .sl-v-list li a.seleted{\n  background-color: #7ecef4;\n  color: white;\n}\n/* .selector .sl-v-list li a.noSeleted{\n  background-color: clear;\n  color: #337ab7;\n} */\n","",{version:3,sources:["/home/travis/build/CoderTonyChan/laoshihao-mall-web/src/views/goods/goods-list/index.vue"],names:[],mappings:";AACA;EACE,8BAA8B;EAC9B,oBAAoB;EACpB,kBAAkB;EAClB,aAAa;EACb,iBAAiB;EACjB,QAAQ;CACT;AACD;EACE,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,mBAAmB;GACnB,QAAS;EACT,kBAAkB;EAClB,+BAA+B;CAChC;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,qBAAqB;EACrB,mBAAmB;EACnB,iBAAiB;EACjB,QAAQ;CACT;AACD;EACE,iBAAiB;EACjB,QAAQ;EACR,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,iBAAiB;EACjB,QAAQ;EACR,mBAAmB;EACnB,aAAa;CACd;AACD;EACE,mBAAmB;CACpB;AACD;EACE,YAAY;GACZ,gBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,YAAY;EACZ,oBAAoB;EACpB,QAAQ;EACR,gBAAgB;CACjB;AACD;EACE,0BAA0B;EAC1B,aAAa;CACd;AACD;;;IAGI",file:"index.vue",sourcesContent:["\n.selector .s-title {\n  border-bottom: 1px solid #ddd;\n  background: #f1f1f1;\n  line-height: 34px;\n  height: 65px;\n  overflow: hidden;\n  zoom: 1;\n}\n.selector .s-title h3 b {\n  color: #e4393c;\n  margin-right: 5px;\n}\n.selector .sl-wrap {\n  position: relative;\n  _zoom: 1;\n  line-height: 34px;\n  border-bottom: 1px dashed #eee;\n}\n.selector .sl-key {\n  float: left;\n  width: 100px;\n  padding-left: 10px;\n  color: #999;\n}\n.selector .sl-value {\n  margin-left: 110px;\n  padding-right: 130px;\n  padding-left: 10px;\n  overflow: hidden;\n  zoom: 1;\n}\n.selector .sl-v-list {\n  overflow: hidden;\n  zoom: 1;\n  padding-top: 4px;\n}\n.selector .sl-v-list ul {\n  float: left;\n  overflow: hidden;\n  zoom: 1;\n  position: relative;\n  height: 30px;\n}\n.selector .sl-v-list li {\n  margin-right: 50px;\n}\n.selector .sl-v-list li {\n  float: left;\n  _display: inline;\n  margin-right: 16px;\n  margin-bottom: 4px;\n  height: 26px;\n  line-height: 26px;\n}\n.selector .sl-v-list li a {\n  float: left;\n  white-space: nowrap;\n  zoom: 1;\n  cursor: pointer;\n}\n.selector .sl-v-list li a.seleted{\n  background-color: #7ecef4;\n  color: white;\n}\n/* .selector .sl-v-list li a.noSeleted{\n  background-color: clear;\n  color: #337ab7;\n} */\n"],sourceRoot:""}])},a8iq:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},bOSc:function(t,e,s){var o=s("Lp+n");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("619e1868",o,!0,{})}});
//# sourceMappingURL=5.b63424b5517bcf726a49.js.map